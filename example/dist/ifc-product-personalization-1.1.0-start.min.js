(()=>{"use strict";const n=async function(n,e){if(new e({btnShowModal:{text:"Personalize",localeRef:".buy-button-ref",locale:"before"},options:[{title:"Posição na garrafa",type:"information",options:["<strong>Texto somente da parte frontal da garrafa (acima ou abaixo do rótulo)</strong>","Máximo {max-length} caracteres"]},{title:"Escolha a tipografia",name:"tipografia",type:"radio-button",options:[n('<span class="pnz-snellroundhand" data-value="snell-roundhand" data-checked="true">Snell Roundhand</span>'),n('<span class="pnz-snellroundhand-bold" data-value="snell-roundhand-bold">Snell Roundhand</span>'),n('<span class="pnz-snellroundhand-black" data-value="snell-roundhand-black">Snell Roundhand</span>')],callback:function(e,a){switch(e){case"snell-roundhand":n(a).css("font-family",'"Snell Roundhand", sans-serif');break;case"snell-roundhand-black":n(a).css("font-family",'"Snell Roundhand-Black", sans-serif');break;case"snell-roundhand-bold":n(a).css("font-family",'"Snell Roundhand-Bold", sans-serif')}}},{title:"Escreva a sua gravação",type:"text-to-personalization",options:["Escreva aqui"]}],observers:{beforeAddToCart:(e,a)=>{let o=e.text(),t=e.closest(".pnz-modal-dialog").find(".pnz-modal-options"),s=JSON.parse(sessionStorage.getItem("personalizationBlockwords"))??null;if(s&&s.filter((n=>o.split(" ").includes(n))).length>0){t.find("#pnz-text-to-personalization input").val("").trigger("keyup");let e=n('<div class="personalization-toast-popup">Este conteúdo é impróprio, por favor, reescreva a mensagem!</div>');return e.appendTo("body"),e.addClass("active"),setTimeout((()=>{e.removeClass("active"),setTimeout((()=>{e.remove()}),1e3)}),5e3),!1}return t.append(`<input type="hidden" name="posicao" value="${a["personalize-text-photo-position"]}">`),!0}}}).init(),!sessionStorage.getItem("personalizationBlockwords")){const n={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/vnd.vtex.ds.v10+json","REST-Range":"resources=0-3000"}};let e=await fetch("/api/dataentities/BW/search?_fields=blockword",n).then((n=>n.json().then((n=>n.map((n=>n.blockword)))))).catch((n=>[]));sessionStorage.setItem("personalizationBlockwords",JSON.stringify(e))}"28"===n("#___rc-p-id").val()&&n("body").append("<style>.pnz-text-content{top: 84%!important}</style>")};window.jQuery&&window.infracommerce.productPersonalization?n(window.jQuery,window.infracommerce.productPersonalization):document.addEventListener("DOMContentLoaded",(async function(){n(window.jQuery,window.infracommerce.productPersonalization)}))})();